import React from 'react';
import { Box, Heading, Text, Divider, List, ListItem } from '@chakra-ui/react';

const messages1 =
  'Thank you for sharing the session results. Let’s break down the elements observed and provide constructive feedback along with some suggestions for improvement:\n\n### Analysis:\n\n1. **Disfluency: 12.63%**\n   - Disfluencies include repetitions, prolongations, and blocks, which can interrupt the flow of speech.\n   - This percentage indicates that there are notable interruptions in the speech pattern.\n\n2. **Fluency: 0.5%**\n   - Fluency is critical for smooth and coherent speech.\n   - This low percentage suggests that fluent speech constituted a very small portion of the session.\n\n3. **Interjection: 6.57%**\n   - Interjections include filler words such as "um," "uh," "like", and "you know."\n   - At 6.57%, this is higher than desired and indicates that these fillers are contributing to the speech disfluency.\n\n4. **Natural Pause: 76.26%**\n   - Natural pauses involve breaks in speech that occur naturally, such as when stopping to think.\n   - This high percentage suggests the individual is pausing frequently, which could indicate uncertainty or the need for more time to formulate thoughts.\n\n### Feedback and Suggestions:\n\n1. **Reducing Disfluency:**\n   - **Practice Pacing:** Encourage the speaker to slow down their speech rate. Often, speaking more slowly can reduce disfluencies and give more time to think about what to say next.\n   - **Breathing Techniques:** Teach them to take deep breaths before starting to speak; this can help manage anxiety and reduce disfluency.\n   - **Smooth Speech Techniques:** Techniques like easy onset and light articulatory contact can help produce more fluid speech.\n\n2. **Improving Fluency:**\n   - **Fluency Shaping Exercises:** Engage in activities that help blend sounds and words more smoothly. Controlled and continuous phonation can make the speech more fluid.\n   - **Reading Aloud:** Practice reading passages aloud with a focus on fluency. Gradually, incorporate this style into spontaneous speech.\n   - **Choral Reading:** Practice speaking in unison with another person. This can help build confidence and improve fluency patterns.\n   \n3. **Reducing Interjections:**\n   - **Self-Monitoring:** Encourage the individual to become more aware of their use of fillers. They can self-monitor and note when they tend to use these fillers.\n   - **Replacement Strategies:** Instead of fillers, practice silent pauses or transitional phrases. These can be more effective than fillers and maintain the flow of conversation.\n   \n4. **Managing Natural Pauses:**\n   - **Mindful Pausing:** Help them develop comfortable and mindful pausing techniques. Pausing is natural, but they should aim for pauses that reflect confidence rather than uncertainty.\n   - **Structured Thinking:** Encourage the use of mental frameworks before speaking. Organizing thoughts in advance can reduce prolonged pauses.\n   - **Pause Practice:** They can practice speaking with intentional pauses inserted at natural points in speech, such as between sentences or topics, rather than random pauses.\n\n### Encouragement:\n\nIt’s important to acknowledge progress and positive aspects as part of any feedback:\n\n- **Progress Acknowledgment:** Acknowledge the effort put into the session. Progress in speech therapy can be gradual, and every step forward counts.\n- **Positive Reinforcement:** Celebrate any moments of fluency and effective communication during the session.\n- **Patience is Key:** Remind them that improvements come with time and practice. Patience and consistent work are essential in speech therapy.\n\nLet’s set small, actionable goals for the next few sessions and continue working towards improved fluency and confidence in communication. Keep up the great effort, and remember that with each session, you’re getting closer to your goals!';

const messages2 =
  "Based on the speech session results, it appears that there is significant room for improvement in fluency, while the natural pause rate seems relatively balanced. Here are some detailed improvement tips, specific exercises, and techniques to help you make progress. Remember, improvement in speech fluency is a gradual process that requires consistency and practice. Stay motivated and patient with yourself!\n\n### Tips for Improvement\n\n1. **Practice Slow and Controlled Speech:**\n   - **Exercise:** Read aloud from a book or article, consciously slowing down your speech. Focus on articulating each word clearly.\n   - **Technique:** Pause briefly between phrases and sentences. This will not only help you gain control over your speech but also reduce interjections.\n\n2. **Use Pausing and Phrasing:**\n   - **Exercise:** Practice speaking in “chunks” or phrases. Write down sentences and segment them into smaller phrases, then practice saying each phrase with a brief pause in between.\n   - **Technique:** Use the chunking method in your daily conversations. For example, instead of rushing to complete a sentence, pause after each key phrase.\n\n3. **Minimize Interjections (“um,” “uh,” etc.):**\n   - **Exercise:** Record yourself speaking on a familiar topic for one minute. Listen to the recording and mark each interjection. Then, try speaking about the same topic again, consciously reducing the interjections.\n   - **Technique:** When you feel the urge to use an interjection, practice taking a deeper breath or a natural pause instead.\n\n4. **Breathing Exercises:**\n   - **Exercise:** Practice diaphragmatic breathing. Lie on your back, place one hand on your belly and another on your chest. Inhale deeply through your nose, making sure your belly rises more than your chest. Exhale through your mouth. Practice this 10-15 times.\n   - **Technique:** Use diaphragmatic breathing before you start speaking to stay calm and composed.\n\n5. **Use a Metronome:**\n   - **Exercise:** Download a metronome app and set it to a slow, steady beat. Practice speaking in sync with the beat, allowing you to maintain a slower, more deliberate speech rate.\n   - **Technique:** Gradually increase the speed of the metronome as you become more comfortable with controlled speech.\n\n6. **Engage in Daily Practice:**\n   - **Exercise:** Set aside 10-15 minutes each day for speech exercises. Include a combination of reading aloud, impromptu speaking, and specific exercises mentioned above.\n   - **Technique:** Track your progress in a journal. Write down daily observations and note any improvements, even if they are small.\n\n### Motivational Encouragement\n\nRemember, speech improvement is a journey that involves regular practice and persistence. Celebrate each small victory along the way, and don't get discouraged by occasional setbacks. Every step forward, no matter how small, is a step towards better communication. You’re making progress just by putting in the effort to improve!\n\n### Realistic Goal Suggestions\n\n1. **Short-term Goal (1 Month):**\n   - Reduce interjections by 50%. Instead of saying “um” and “uh,” practice using pauses during your daily speech practice.\n   - Increase fluency to at least 1-2%.\n\n2. **Mid-term Goal (3 Months):**\n   - Achieve a disfluency rate below 10%.\n   - Reach a fluency rate of 3-5%.\n   - Regularly incorporate pausing techniques and breath control in everyday conversations.\n\n3. **Long-term Goal (6 Months+):**\n   - Maintain a low interjection rate (below 2%).\n   - Achieve consistent fluency improvements, aiming for a rate of 5-10%.\n   - Use all practiced techniques naturally in spontaneous conversation.\n\n### Final Note\n\nStay committed and keep practicing the exercises regularly. Your hard work and dedication will lead to significant improvements in your speech. Remember, every effort you make today is building a bridge to clearer and more confident communication tomorrow. You’ve got this!";

const messages3 =
  "Absolutely! Below is a practice dialogue for improving speech fluency on the topic of rain. \n\n**Characters:**\nJane - A person who enjoys rainy weather.\nTom - A person who dislikes rain.\n\n---\n\n**Jane:** Hey Tom, did you see it's supposed to rain this weekend?\n\n**Tom:** Yeah, I saw the weather forecast. I'm not looking forward to it at all.\n\n**Jane:** Really? I love rainy days! They’re so calming.\n\n**Tom:** I don't know, Jane. Rain just seems to ruin everything. Plans get canceled, and it gets so dreary outside.\n\n**Jane:** I get that, but I find it soothing to listen to the rain. Plus, it's a great excuse to stay indoors and read a good book.\n\n**Tom:** True, I guess it does give you a reason to relax. But sometimes it just feels like it’s never-ending, especially during the rainy season.\n\n**Jane:** That’s a fair point. It can get a bit much. Have you ever tried finding fun activities to do indoors when it’s raining?\n\n**Tom:** Not really. I usually just end up watching TV or browsing the internet. I suppose I could try something new.\n\n**Jane:** You totally should! For instance, have you ever tried baking or doing a puzzle? Those are perfect rainy-day activities.\n\n**Tom:** Hmm, baking sounds interesting. I’ve never really given it a shot before. Do you bake often when it rains?\n\n**Jane:** Yes, I do! I find it so much fun, and the house smells amazing after. It’s very satisfying to bake something from scratch.\n\n**Tom:** That does sound nice. Maybe I’ll give baking a try next time it rains. Any beginner-friendly recipes you recommend?\n\n**Jane:** Definitely! You can start with something simple like chocolate chip cookies. They’re easy to make and always a hit.\n\n**Tom:** That sounds perfect. Thanks for the suggestion, Jane. Maybe rain isn’t all bad after all!\n\n**Jane:** I’m glad you’re willing to give it a try, Tom. Who knows, you might end up enjoying rainy days as much as I do!\n\n**Tom:** We’ll see. But for now, I’ll keep an open mind. Thanks, Jane.\n\n---\n\nPractice Tips:\n1. **Smooth transitions:** Work on making smooth transitions between sentences. Avoid unnecessary pauses.\n2. **Pronunciation:** Enunciate clearly, especially with words that may be tricky for you.\n3. **Pauses:** Use natural pauses where appropriate, but try to keep them short.\n4. **Expression:** Infuse your speech with natural enthusiasm, as this dialogue is an informal and friendly exchange.\n\nFeel free to practice this dialogue multiple times until it feels natural. Good luck!";

const FeedbackComponent = () => {
  // Remove all asterisks from the message
  const cleanedMessage = messages1.replace(/\*/g, '');

  const sections = cleanedMessage.split('###');

  return (
    <Box p="6" borderWidth="1px" borderRadius="lg" h="50vh" overflowY="auto">
      {sections.map((section, index) => {
        const lines = section.split('\n').filter(line => line.trim() !== '');

        if (lines.length === 0) return null;

        if (index === 0) {
          // Handling the title section
          return (
            <Heading as="h3" size="md" mb="2" key={index}>
              {lines[0]}
            </Heading>
          );
        }

        // Handling other sections
        const title = lines[0].replace(':', '').trim();
        const items = lines.slice(1).map((line, idx) => {
          // Handling lines with bold format
          if (line.match(/^\d+\.\s/)) {
            const text = line
              .replace(/-\s\*\*/g, '-')
              .replace(/^\d+\.\s\*\*/, '')
              .replace(/\*\*$/, '');

            return (
              <Text key={idx}>
                <strong>{text}</strong>
              </Text>
            );
          }
          // Rendering other lines as regular text
          return <Text key={idx}>{line}</Text>;
        });

        return (
          <Box key={index} mb="4">
            <Heading as="h3" size="md" mb="2">
              {title}
            </Heading>
            <List spacing={3}>
              {items.map((item, idx) => (
                <ListItem key={idx}>{item}</ListItem>
              ))}
            </List>
            <Divider m={2} />
          </Box>
        );
      })}
    </Box>
  );
};

export default FeedbackComponent;
